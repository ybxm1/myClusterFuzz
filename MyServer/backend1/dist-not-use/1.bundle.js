(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{208:function(t,e,a){},209:function(t,e,a){},210:function(t,e,a){},211:function(t,e,a){},212:function(t,e,a){},226:function(t,e,a){"use strict";a(208)},227:function(t,e,a){"use strict";a(209)},228:function(t,e,a){"use strict";a(210)},229:function(t,e,a){"use strict";a(211)},230:function(t,e,a){"use strict";a(212)},232:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reproduce"},[a("div",{staticClass:"control-bar"},[a("task-item",{attrs:{name:"漏洞修复验证"}})],1),t._v(" "),a("div",{staticClass:"showArea"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"正在运行",name:"running"}},[a("reproduce-runing",{attrs:{data:t.runingRep}}),t._v(" "),a("div",{staticClass:"cases-pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":t.pagesize,layout:"prev, pager, next",total:t.total1},on:{"current-change":t.handlePageChange1}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"complete"}},[a("reproduce-completed",{attrs:{data:t.completedRep}}),t._v(" "),a("div",{staticClass:"cases-pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage2,layout:"prev, pager, next",total:t.total2},on:{"current-change":t.handlePageChange2}})],1)],1)],1)],1),t._v(" "),a("create-dialog")],1)};n._withStripped=!0;var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"job-table"},[a("el-table",{attrs:{data:t.data,height:t.tableHeight}},[a("el-table-column",{attrs:{prop:"title",label:"任务名","min-width":"300"}}),t._v(" "),a("el-table-column",{attrs:{label:"完成度"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getPercent(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"任务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getLabel(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"开始时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.enterJob(e.row)}}},[t._v("进入任务")]),t._v(" "),a("el-button",{on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1)};o._withStripped=!0;var i=a(2),l=0,r=1,s=2,c=3,u=4,p=5,d={props:{data:{type:Array,default:[]}},computed:{tableHeight:function(){return document.documentElement.clientHeight-200-137-40}},mounted:function(){var t=this;this.$store.dispatch("reloadJobs").catch((function(e){return t.$message.error("服务器错误")}))},methods:{getLabel:function(t){return{1:"模糊测试",2:"漏洞扫描"}[t.type]},formatTime:function(t){return e=new Date(1e3*t.time),a=e.getDate(),n=e.getMonth(),o=e.getFullYear(),i=e.getHours(),l=e.getMinutes(),"".concat(o,"年 ").concat(n+1,"月 ").concat(a,"日 ").concat(i,":").concat(l);var e,a,n,o,i,l},getPercent:function(t){return 4==this.status?100:0==t.case.length?0:"completed"in t?(100*t.completed/t.case.length).toFixed(1):0},enterJob:function(t){2==t.type?this.$router.push({path:"/workstation/scan/".concat(t._id)}):t.status==l?this.$router.push({path:"/workstation/job/case/".concat(t._id)}):t.status==r||t.status==c||t.status==s?this.$router.push({path:"/workstation/job/fuzz/".concat(t._id)}):t.status==u||t.status==p?this.$router.push({path:"/workstation/job/result/".concat(t._id)}):this.$router.push({path:"/404"})},handleDelete:function(t){var e,a=this;(e=t._id,i.a.delete("/workstation/job/".concat(e))).then((function(t){200==t.status?a.$store.dispatch("reloadJobs").then((function(){a.$message.info("删除成功")})):a.$message.error("删除失败：",t.msg)}))}}},m=(a(226),a(4)),f=Object(m.a)(d,o,[],!1,null,null,null);f.options.__file="src/views/reproduce/components/JobTable.vue";var h=f.exports,v=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"task-item"},[e("div",{staticClass:"task-label"},[this._v(this._s(this.name))]),this._v(" "),e("el-button",{on:{click:this.createTask}},[e("svg-icon",{staticClass:"create-icon",attrs:{icon:"plus"}}),this._v("创建\n  ")],1)],1)};v._withStripped=!0;var b={props:{name:{type:String,required:!0}},methods:{createTask:function(){this.$store.commit("CHANGE_CREA_DIALOG",!0)}}},g=(a(227),Object(m.a)(b,v,[],!1,null,"618f5445",null));g.options.__file="src/views/reproduce/components/TaskItem.vue";var _=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-dialog"},[a("el-dialog",{attrs:{visible:t.canOpen,modal:!0,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.canOpen=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",[a("div",{staticStyle:{display:"inline-block",width:"25%"}},[a("font",[t._v("任务名称")])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"70%"}},[a("el-input",{attrs:{name:"jobname",type:"text"},model:{value:t.form.jobname,callback:function(e){t.$set(t.form,"jobname",e)},expression:"form.jobname"}})],1)]),t._v(" "),a("el-form-item",[a("div",{staticStyle:{display:"inline-block",width:"25%"}},[a("font",[t._v("模糊器")])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"70%"}},[a("el-select",{attrs:{name:"fuzz",placeholder:"请选择模糊器"},model:{value:t.form.fuzz,callback:function(e){t.$set(t.form,"fuzz",e)},expression:"form.fuzz"}},[a("el-option",{attrs:{label:"AFL",value:"AFL"}}),t._v(" "),a("el-option",{attrs:{label:"Honggfuzz",value:"Honggfuzz"}}),t._v(" "),a("el-option",{attrs:{label:"Libfuzz",value:"Libfuzz"}})],1)],1)]),t._v(" "),a("el-form-item",[a("div",{staticStyle:{display:"inline-block",width:"25%"}},[a("font",[t._v("漏洞名称")])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"70%"}},[a("el-input",{attrs:{name:"crashname",type:"text"},model:{value:t.form.crashname,callback:function(e){t.$set(t.form,"crashname",e)},expression:"form.crashname"}})],1)]),t._v(" "),a("el-form-item",[a("div",{staticStyle:{display:"inline-block",width:"25%"}},[a("font",[t._v("可执行文件名")])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"70%"}},[a("el-input",{attrs:{name:"exec",type:"text"},model:{value:t.form.exec,callback:function(e){t.$set(t.form,"exec",e)},expression:"form.exec"}})],1)]),t._v(" "),a("el-form-item",[a("div",{staticStyle:{display:"inline-block",width:"25%"}},[a("font",[t._v("上传待测组件")])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"70%"}},[a("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.getFile()}}})])]),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"80%","margin-left":"10%"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.createjob(e)}}},[t._v("\n              提交 \n            ")])],1)],1)],1)],1)};w._withStripped=!0;var y={data:function(){return{form:{jobname:null,fuzz:null,crashname:null,exec:null,file:null}}},computed:{canOpen:{get:function(){return this.$store.state.workstation.createDialog},set:function(t){this.$store.commit("CHANGE_CREA_DIALOG",t)}}},methods:{getFile:function(t){var e=this.$refs.file.files[0];this.form.file=e},createjob:function(){var t=this,e=new FormData;e.append("file",this.form.file),e.append("jobname",this.form.jobname),e.append("fuzz",this.form.fuzz),e.append("crashname",this.form.crashname),e.append("exec",this.form.exec),console.log(this.form.file),console.log(this.form.jobname),function(t){return i.a.post("/reproduce/",t,{headers:{"Content-Type":"multipart/form-data"}})}(e).then((function(e){t.$message(e.data.msg),t.$store.commit("CHANGE_CREA_DIALOG",!1),t.$router.push({path:"/reproduce"})})).catch((function(e){t.$message(e.data.msg),console.log(e)}))}}},k=Object(m.a)(y,w,[],!1,null,null,null);k.options.__file="src/views/reproduce/components/CreateDialog.vue";var C=k.exports,$=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"job-table"},[e("el-table",{staticStyle:{"background-color":"#393939"},attrs:{data:this.data,height:this.tableHeight}},[e("el-table-column",{attrs:{prop:"id",label:"ID"}}),this._v(" "),e("el-table-column",{attrs:{prop:"name",label:"任务名"}}),this._v(" "),e("el-table-column",{attrs:{prop:"crashname",label:"漏洞名"}}),this._v(" "),e("el-table-column",{attrs:{prop:"createtime",label:"任务创建时间"}})],1)],1)};$._withStripped=!0;var x={props:{data:{type:Array,default:[]}},computed:{tableHeight:function(){return document.documentElement.clientHeight-200-137-40-80}}},z=(a(228),Object(m.a)(x,$,[],!1,null,null,null));z.options.__file="src/views/reproduce/components/ReproduceRuning.vue";var S=z.exports,j=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"job-table"},[e("el-table",{staticStyle:{"background-color":"#393939"},attrs:{data:this.data,height:this.tableHeight}},[e("el-table-column",{attrs:{prop:"id",label:"ID"}}),this._v(" "),e("el-table-column",{attrs:{prop:"name",label:"任务名"}}),this._v(" "),e("el-table-column",{attrs:{prop:"crashname",label:"漏洞名"}}),this._v(" "),e("el-table-column",{attrs:{prop:"isfixed",label:"漏洞是否已修复"}}),this._v(" "),e("el-table-column",{attrs:{prop:"createtime",label:"任务创建时间"}})],1)],1)};j._withStripped=!0;var A={props:{data:{type:Array,default:[]}},computed:{tableHeight:function(){return document.documentElement.clientHeight-200-137-40-80}}},E=(a(229),Object(m.a)(A,j,[],!1,null,null,null));E.options.__file="src/views/reproduce/components/ReproduceCompleted.vue";var H={data:function(){return{activeName:"running",runingRep:[],completedRep:[],pagesize:8,currentPage1:1,total1:0,currentPage2:1,total2:0}},components:{TaskItem:_,JobTable:h,CreateDialog:C,ReproduceRuning:S,ReproduceCompleted:E.exports},mounted:function(){this.handlePageChange1(1),this.handlePageChange2(1)},methods:{handlePageChange1:function(t){var e=this;(function(t){return i.a.get("/reproduce/runing/".concat(t))})(t).then((function(t){e.runingRep=t.data.data,e.total1=t.data.count}))},handlePageChange2:function(t){var e=this;(function(t){return i.a.get("/reproduce/complete/".concat(t))})(t).then((function(t){e.completedRep=t.data.data,e.total2=t.data.count}))}}},R=(a(230),Object(m.a)(H,n,[],!1,null,null,null));R.options.__file="src/views/reproduce/index.vue";e.default=R.exports}}]);