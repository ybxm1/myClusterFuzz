(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{200:function(t,e,a){},201:function(t,e,a){},202:function(t,e,a){},218:function(t,e,a){"use strict";a(200)},219:function(t,e,a){"use strict";a(201)},220:function(t,e,a){"use strict";a(202)},234:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"workstation"},[a("div",{staticClass:"showArea"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"正在运行",name:"running"}},[a("JobTableRuning",{attrs:{data:t.runingjobs}}),t._v(" "),a("div",{staticClass:"cases-pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":t.pagesize,layout:"prev, pager, next",total:t.total1},on:{"current-change":t.handlePageChange1}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"complete"}},[a("JobTableComplete",{attrs:{data:t.completedjobs}}),t._v(" "),a("div",{staticClass:"cases-pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage2,layout:"prev, pager, next",total:t.total2},on:{"current-change":t.handlePageChange2}})],1)],1)],1)],1)])};n._withStripped=!0;var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vuls-table-container"},[a("div",{staticClass:"job-table"},[a("el-table",{staticStyle:{"background-color":"#393939"},attrs:{data:t.data,height:t.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"任务ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fuzzer",label:"模糊器"}}),t._v(" "),a("el-table-column",{attrs:{prop:"botnum",label:"节点数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"运行时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"任务创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crashnum",label:"已发现漏洞数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"completenum",label:"任务完成度"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getPercent(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"运行日志"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleView(e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"result-collapse",attrs:{title:"日志信息",visible:t.showDialog,width:"50%"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-collapse",t._l(t.logdata,(function(e){return a("el-collapse-item",{key:e.name,attrs:{title:e.name}},[a("case-report",[t._v(t._s(e.log))])],1)})),1)],1)],1)};l._withStripped=!0;var o=a(33),s={props:{data:{type:Array,default:[]}},computed:{tableHeight:function(){return document.documentElement.clientHeight+60-200-137-40}},data:function(){return{vul:{},showDialog:!1,logdata:[]}},methods:{replace:function(t){return t.replace("/\n|\r\n/g","<br/>")},handleView:function(t){var e=this;this.vul=t,this.showDialog=!0,this.logdata=[],Object(o.b)(t.id).then((function(t){e.logdata=t.data}))},getPercent:function(t){return(t.completenum/t.botnum).toFixed(1)},enterJob:function(t){2==t.type?this.$router.push({path:"/workstation/scan/".concat(t._id)}):t.status==JobStatus.CREATED?this.$router.push({path:"/workstation/job/case/".concat(t._id)}):t.status==JobStatus.SELECTED_CASE||t.status==JobStatus.FUZZING||t.status==JobStatus.TO_FUZZ?this.$router.push({path:"/workstation/job/fuzz/".concat(t._id)}):t.status==JobStatus.FUZZ_COMPLETE||t.status==JobStatus.ERROR?this.$router.push({path:"/workstation/job/result/".concat(t._id)}):this.$router.push({path:"/404"})},handleDelete:function(t){var e=this;deleteJob(t._id).then((function(t){200==t.status?e.$store.dispatch("reloadJobs").then((function(){e.$message.info("删除成功")})):e.$message.error("删除失败：",t.msg)}))}}},r=(a(218),a(4)),i=Object(r.a)(s,l,[],!1,null,null,null);i.options.__file="src/views/jobs/components/JobTableRuning.vue";var c=i.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vuls-table-container"},[a("div",{staticClass:"job-table"},[a("el-table",{staticStyle:{"background-color":"#393939"},attrs:{data:t.data,height:t.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"任务ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fuzzer",label:"模糊器"}}),t._v(" "),a("el-table-column",{attrs:{prop:"botnum",label:"节点数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"运行时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"任务创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crashnum",label:"已发现漏洞数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("font",[t._v(t._s(e.row.crashnum)+"个漏洞")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"35px"},on:{click:function(a){return t.showcrash(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"运行日志"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleView(e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"result-collapse",attrs:{title:"日志信息",visible:t.showDialog,width:"50%"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-collapse",t._l(t.logdata,(function(e){return a("el-collapse-item",{key:e.name,attrs:{title:e.name}},[a("case-report",[t._v(t._s(e.log))])],1)})),1)],1),t._v(" "),a("el-dialog",{staticClass:"result-collapse",attrs:{title:"漏洞信息",visible:t.showCrash,width:"50%"},on:{"update:visible":function(e){t.showCrash=e}}},[a("el-collapse",t._l(t.crashdata,(function(e){return a("el-collapse-item",{key:e.name,attrs:{title:e.name}},[a("case-report",[t._v(t._s(e.crash))])],1)})),1)],1)],1)};u._withStripped=!0;var p={props:{data:{type:Array,default:[]}},computed:{tableHeight:function(){return document.documentElement.clientHeight+60-200-137-40}},data:function(){return{showDialog:!1,logdata:[],showCrash:!1,crashdata:[]}},methods:{formatTime:function(t){return formatDate(new Date(1e3*t.time))},handleView:function(t){var e=this;this.showDialog=!0,this.logdata=[],Object(o.b)(t.id).then((function(t){e.logdata=t.data}))},showcrash:function(t){var e=this;this.showCrash=!0,this.crashdata=[],Object(o.a)(t.id).then((function(t){e.crashdata=t.data}))}}},b=(a(219),Object(r.a)(p,u,[],!1,null,null,null));b.options.__file="src/views/jobs/components/JobTableComplete.vue";var d={data:function(){return{activeName:"running",runingjobs:[],completedjobs:[],pagesize:8,currentPage1:1,total1:0,currentPage2:1,total2:0}},components:{JobTableRuning:c,JobTableComplete:b.exports},mounted:function(){this.handlePageChange1(1),this.handlePageChange2(1)},methods:{handlePageChange1:function(t){var e=this;Object(o.d)(t).then((function(t){e.runingjobs=t.data.data,e.total1=t.data.count}))},handlePageChange2:function(t){var e=this;Object(o.c)(t).then((function(t){e.completedjobs=t.data.data,e.total2=t.data.count}))}}},h=(a(220),Object(r.a)(d,n,[],!1,null,null,null));h.options.__file="src/views/jobs/index.vue";e.default=h.exports}}]);